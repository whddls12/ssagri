# 기능 정리

### 핵심기능 적었던 거

- 가계부
    - 내가 얼마를 모으고 싶은지 '목표자산'을 설정한다.
        - (부가-낙원계산기) "목표자산까지 얼마 남았습니다."
    - 카테고리별 '목표 소비 금액'을 설정한다.
    - 자체적으로 만든 "결제 내역 API"를 통해 결제 내역 가져오기
    (- "연동 계좌 정보 내역 API" ->)
    - 서비스를 이용하기 전에, “어디에 저장할 것인지” 저축 계좌 정보가 필요하다.
    - 주/월 단위가 지났을 때 절약금액 정산 "얼마를 절약하셨네요! 축하드립니다."
        - 그 후 절약금액을 어떻게 사용할 것인지 선택하도록 한다. (none/적금/투자) + 절약통장
        1. 절약금액을 전부 저축/투자를 하는 것이 아니라, 얼마를 저축할 것인지 정할 수 있으면 좋겠다.
        2. 실제로 저축/투자를 할 수 있는 현금이 있는지 검증을 해야 한다. (회원가입 이후, 서비스를 이용하기 전에 연동계좌를 불러와야 한다. 여기서 사용자의 가용 자산을 파악해야 한다.)
    - 메인페이지에는 "절약금액/목표금액" 보여주고, 가용자산을 메인에서 보여줄 필요는 없다.
    - 주/월 단위가 진행 중일 때는 카테고리별 소비 금액 보여주기
        - 카테고리별 소비 %별 (50%이하 - 연두, 이상 - 주황, 80%이상 - 빨강)로 색상을 다르게.
        - (보류 - 어떻게 보여줄지) "~에 얼마를 사용하셨습니다. 이제 얼마만 사용하실 수 있어요."
    - 가상의 경쟁상대와 절약 경쟁을 한다. (어떻게?)
        1. '목표 소비 금액'의 일자별 평균누적을 계산한다.
        2. 나와 비슷한 사용자들의 평균 (가상)
        3. 나와 비슷한 사용자 중에서 가장 절약하는 사람의 데이터
        +(자극) "너 절약 그거밖에 못해? 나약하군..." 신경 건드리기
    - 출금 미션을 완수했을 때 출금이 가능. (자유로운 출금은 절약을 방해한다.)
        - 광클을 눌러야만 출금 가능
        - 확인 메시지의 문구가 점점 심각해지는 것, 계속 터치 해서 꺼내겠다 했을 때 출금 가능
        - 캐릭터를 넣어서 무서운 캐릭터가 점점 순해지면서 출금 가능
        - 경고문구를 띄우는데, 지금까지의 상황을 보여주거나 "이만큼 모았는데 포기하시겠습니까?" or "목표까지 얼마 남았는데, 정말 출금하시겠습니까?"
    - (어렵다) 가짜소비 기능
        - 소비하는 기분을 느끼게 하면서 저축이 되게 한다.
- 상품 추천

### [아이디어]

```java
- 특정 기간, 목표 금액을 설정
- 주/월 단위로 목표소비금액 설정 후, 덜 소비한 금액을 절약금액으로 취급
- 절약 금액을 목표 기간과 금액에 따라 금융 상품(Park 통장, 주식, ETF)을 추천 후 금액 차감 [금융 상품 투자 시 예상 수익률 보여주기]
- 가상 캐릭터(경쟁 상대)를 사용하여, 비슷한 수준의 이용자층과의 경쟁 요소를 도입
(보류)- 가상의 욕구 충족을 위한 대체제(가상 쇼핑몰, 가상 구매 내역)를 제공

0. 마이데이터 명세 (카드 등 결제내역 가져오기, 연동 계좌 조회(갱신))
1, 2. 가계부
3. 추천
4. 가상 경쟁
5. 가짜 소비
```

1. 로그인 
2. 가계부
    
    2-1. 목표 자산 설정
    
3. 계좌 연동  
4. 가상경쟁
5. 출금 제한 기능
6. 가짜 소비 아이디어
7. 절약통장

### 도메인

```jsx
**1. 유저
2. 가계부(계산)
3. (내)자산
4. 금융상품
5. 가상경쟁(데이터 가공)**
```

## 유저

유저는 목표 금액과 기간 단위로 구분을 해놔야 할 것 같다.

라이트 유저, 헤비유저 구분하듯 유저의 단위별로 구분하기

저축 금액 1000원당 1XP의 경험치로 치환하고 레벨 제도로 만드는 것도 좋지않을까?

사실 생각이 드는게 가계부긴 하지만 커뮤니티를 굳이 포기할 필요가 있나?

## 가계부(계산)

### 사전 준비

- 어떤 계좌를 가져올 것인가(소비 통장) : 소비 통장을 추적하여 주단위, 월단위 소비 가계부 작성
- 어떤 통장에 내 돈을 저금할 것인가(Parking 통장 등..) : 실제 재테크 자산을 저장할 통장
- 여기 있는 내용은 사용자가 요청 시 갱신이 가능하게 한다. (자주는 안 바뀔거지만)

### 가계부 메인 로직

- 주별 목표 소비금액 설정 (ex : 나는 이번 주에 10만원을 소모하겠다.)
- 일일 회고 : 오늘의 카드 사용량과 허용된 자산을 비교

```java
예를 들어 일주일에 105000원을 쓴다면 하루에 15000원을 쓸 수 있다.
월요일에는 총합 9000원을 썼다면, 6000원의 여유분이 남는다.
이 6000원을 1. 금융 상품에 저축(혹은 투자) 하거나, 2. 이번주의 다음 가용 예산에 추가할 수 있다.

1을 선택했다면 그 순간 저축 통장에 돈이 저장된다(추가적으로 )
2를 선택했다면 이번주의 가용 예산이 늘어나게 된다. 하루에 15000원이 아니라 16000원(15000 + 6000/6)을 사용할 수 있다. 
=> 사실 그냥 주간 계획 : (소비 금액 - 실제 사용 비용) / 남은 시간 으로 판정하게 된다

남는 금액을 저축시키는 것이 핵심이다 => 저축 시 자산 유무 확인 필수
```

- 목표 자산을 n등분해서 주 별 목표 소비 금액과 비교 (내가 10년동안 1000만원을 모으려면 이번 주에 n원을 모아야 함)
- 요일별로 평균 소비액 보여줌.
- 같은 비슷한 사용자들의 평균 소비 내역 및 현황을 보여준다.

(나이, 성별, 주간 목표 소비 금액이 비슷한 사람들)

- 저축은 실시간으로 진행되며, 저축 시 (가상경쟁)으로 진입한다.
- 저축 금액과 목표 달성 날짜에 맞는 예상 수익을 비슷한 현물로 보여준다 (ex: 5000원을 저축 시 10년 뒤 12450원으로 돌아와요 (12000원 상당의 실물 그림)
- 소비 내역과 저축 내역은 각각 캘린더에 작성된다.

## 자산

### 사전 준비

- 연동 계좌 가져오기 (전체 자산을 보여줄 필요는 있음)
- 목표 자산 설정 (얼마 모을 건지 → 내가 ~~년까지 ~~을 모으겠다 .. 이런거 설정)

- 입출금통장 (연동계좌)
- 자유로운 예적금 통장(Park통장 등)

- 자산 증가 추이? 과거의 데이터를 가지고 지금까지 돈을 어떻게 늘렸는지

⇒ 금융 상품쪽도 같이 판단을 하나요? 금은(환율) 등은 얼마를 샀는지 직접 수기로 작성해야 함

### 절약 통장 출금을 어렵게 하는 로직

> 여기서 돈을 빼면 어떤 손해 있는지 보여준다 (재고요청)
> 
- 캐릭터를 넣어서 무서운 캐릭터가 점점 순해지면서 출금 가능
- 경고문구를 띄우는데, 지금까지의 상황을 보여주거나 "이만큼 모았는데 포기하시겠습니까?" or "목표까지 얼마 남았는데, 정말 출금하시겠습니까?"

## 금융 투자 상품

> 우리가 직접 뭔가를 해주기보다는 추천에 가깝지 않을까, 데이터를 가져와서 추천
> 

> 안정적인 상품을 추천해야 할 것
> 
- 금융감독원 API 스크래핑으로 금융 상품 확인하기
    
    https://mokeya.tistory.com/123
    

### 적금

- 나의 절약 금액을 어디에 넣었을 때 n년 뒤 얼마가 될 지를 계산
- 이율, 상품명, 회사, 은행, 한도 등의 지표를 제공
- 해당 상품은 월에 무조건 얼마를 넣는지 등의 구체적 제약 조건보다는 상황을 고려하여 자유롭게 넣을 수 있게 한다.

### 환율 / 금은시세

- 환율, 금 그래프만 가져와서 보여준다
- 관련 뉴스 기사 달아주기 (크롤링)
- 갬성분석

## 가상경쟁

NC varco를 사용하여 가상화된 경쟁용 봇 제공